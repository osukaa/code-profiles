/*
 * Wallaby.js - v1.0.869
 * https://wallabyjs.com
 * Copyright (c) 2014-2020 Wallaby.js - All Rights Reserved.
 *
 * This source code file is a part of Wallaby.js and is a proprietary (closed source) software.

 * IMPORTANT:
 * Wallaby.js is a tool made by software developers for software developers with passion and love for what we do.
 * Pirating the tool is not only illegal and just morally wrong,
 * it is also unfair to other fellow programmers who are using it legally,
 * and very harmful for the tool and its future.
 */
function ignored(e){return!~ignore.indexOf(e)}function highlight(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\/\/(.*)/gm,'<span class="comment">//$1</span>').replace(/('.*?')/gm,'<span class="string">$1</span>').replace(/(\d+\.\d+)/gm,'<span class="number">$1</span>').replace(/(\d+)/gm,'<span class="number">$1</span>').replace(/\bnew[ \t]+(\w+)/gm,'<span class="keyword">new</span> <span class="init">$1</span>').replace(/\b(function|new|throw|return|var|if|else)\b/gm,'<span class="keyword">$1</span>')}var fs=require("fs"),path=require("path"),basename=path.basename,exists=fs.existsSync||path.existsSync,glob=require("glob"),join=path.join,debug=require("debug")("mocha:watch"),ignore=["node_modules",".git"];exports.escape=function(e){return String(e).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},exports.forEach=function(e,t,n){for(var r=0,i=e.length;r<i;r++)t.call(n,e[r],r)},exports.map=function(e,t,n){for(var r=[],i=0,o=e.length;i<o;i++)r.push(t.call(n,e[i],i));return r},exports.indexOf=function(e,t,n){for(var r=n||0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},exports.reduce=function(e,t,n){for(var r=n,i=0,o=e.length;i<o;i++)r=t(r,e[i],i,e);return r},exports.filter=function(e,t){for(var n=[],r=0,i=e.length;r<i;r++){var o=e[r];t(o,r,e)&&n.push(o)}return n},exports.keys=Object.keys||function(e){var t=[],n=Object.prototype.hasOwnProperty;for(var r in e)n.call(e,r)&&t.push(r);return t},exports.watch=function(e,t){var n={interval:100};e.forEach(function(e){debug("file %s",e),fs.watchFile(e,n,function(n,r){r.mtime<n.mtime&&t(e)})})},exports.files=function(e,t,n){n=n||[],t=t||["js"];var r=new RegExp("\\.("+t.join("|")+")$");return fs.readdirSync(e).filter(ignored).forEach(function(i){i=join(e,i),fs.statSync(i).isDirectory()?exports.files(i,t,n):i.match(r)&&n.push(i)}),n},exports.slug=function(e){return e.toLowerCase().replace(/ +/g,"-").replace(/[^-\w]/g,"")},exports.clean=function(e){e=e.replace(/\r\n?|[\n\u2028\u2029]/g,"\n").replace(/^\uFEFF/,"").replace(/^function *\(.*\) *{|\(.*\) *=> *{?/,"").replace(/\s+\}$/,"");var t=e.match(/^\n?( *)/)[1].length,n=e.match(/^\n?(\t*)/)[1].length,r=new RegExp("^\n?"+(n?"\t":" ")+"{"+(n?n:t)+"}","gm");return e=e.replace(r,""),exports.trim(e)},exports.trim=function(e){return e.replace(/^\s+|\s+$/g,"")},exports.parseQuery=function(e){return exports.reduce(e.replace("?","").split("&"),function(e,t){var n=t.indexOf("="),r=t.slice(0,n),i=t.slice(++n);return e[r]=decodeURIComponent(i),e},{})},exports.highlightTags=function(e){for(var t=document.getElementById("mocha").getElementsByTagName(e),n=0,r=t.length;n<r;++n)t[n].innerHTML=highlight(t[n].innerHTML)};var emptyRepresentation=function(e,t){switch(t=t||exports.type(e)){case"function":return"[Function]";case"object":return"{}";case"array":return"[]";default:return e.toString()}};exports.type=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)?"buffer":Object.prototype.toString.call(e).replace(/^\[.+\s(.+?)\]$/,"$1").toLowerCase()},exports.stringify=function(e){var t,n=exports.type(e);if("null"===n||"undefined"===n)return"["+n+"]";if("date"===n)return"[Date: "+e.toISOString()+"]";if(!~exports.indexOf(["object","array","function"],n))return e.toString();for(t in e)if(e.hasOwnProperty(t))return JSON.stringify(exports.canonicalize(e),null,2).replace(/,(\n|$)/g,"$1");return emptyRepresentation(e,n)},exports.isBuffer=function(e){return"undefined"!=typeof Buffer&&Buffer.isBuffer(e)},exports.canonicalize=function(e,t){var n,r,i=exports.type(e),o=function(e,n){t.push(e),n(),t.pop()};if(t=t||[],exports.indexOf(t,e)!==-1)return"[Circular]";switch(i){case"undefined":n="[undefined]";break;case"buffer":case"null":n=e;break;case"array":o(e,function(){n=exports.map(e,function(e){return exports.canonicalize(e,t)})});break;case"date":n="[Date: "+e.toISOString()+"]";break;case"function":for(r in e){n={};break}if(!n){n=emptyRepresentation(e,i);break}case"object":n=n||{},o(e,function(){exports.forEach(exports.keys(e).sort(),function(r){n[r]=exports.canonicalize(e[r],t)})});break;case"number":case"boolean":n=e;break;default:n=e.toString()}return n},exports.lookupFiles=function e(t,n,r){var i=[],o=new RegExp("\\.("+n.join("|")+")$");if(!exists(t)){if(!exists(t+".js")){if(i=glob.sync(t),!i.length)throw new Error("cannot resolve path (or pattern) '"+t+"'");return i}t+=".js"}try{var s=fs.statSync(t);if(s.isFile())return t}catch(a){return}return fs.readdirSync(t).forEach(function(s){s=join(t,s);try{var a=fs.statSync(s);if(a.isDirectory())return void(r&&(i=i.concat(e(s,n,r))))}catch(l){return}a.isFile()&&o.test(s)&&"."!==basename(s)[0]&&i.push(s)}),i},exports.undefinedError=function(){return new Error("Caught undefined error, did you throw without specifying what?")},exports.getError=function(e){return e||exports.undefinedError()};